# zadanie 1
alter table zadanie drop foreign key zadanie_ibfk_1;
alter table projekt drop foreign key projekt_ibfk_1;
alter table pracownik modify id_pracownika int not null; # usunięcie auto incrementa, bo pokazuje błąd
alter table pracownik drop primary key;
alter table pracownik add primary key (id_pracownika);
alter table pracownik modify id_pracownika int not null auto_increment; # przywrócenie auto incrementa
alter table zadanie add foreign key (pracownik) references pracownik(id_pracownika) on delete set null;
alter table projekt add foreign key (menadzer_projektu) references pracownik(id_pracownika);

# zadanie 2
alter table zadanie add godziny_szacowane int not null;
alter table zadanie alter godziny_szacowane set default 8;
update zadanie set godziny_szacowane = 4 where id_zadania = 1;
update zadanie set godziny_szacowane = 12 where id_zadania = 3;
alter table zadanie alter godziny_szacowane set default 6;
insert into zadanie(nazwa_zadania, pracownik, projekt) values ('Zakup sprzetu komputerowego', 1, 1);
delete from zadanie where id_zadania = 4;

# zadanie 3
alter table projekt add opis_projektu varchar(50);
alter table projekt modify opis_projektu varchar(200);
update projekt set opis_projektu = 'pilne wdrozenie' where id_projektu = 1;
alter table projekt drop opis_projektu;

# zadanie 4
alter table zadanie drop foreign key zadanie_ibfk_2;
alter table zadanie add foreign key (projekt) references projekt(id_projektu) on delete set null;
delete from projekt where id_projektu = 1;
select * from zadanie;
